<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

  <head>
    <title>simple e-json page</title>
    <link rel="shortcut icon" href="/../images/favicon.ico"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/../css/normalize.css">
    <link rel="stylesheet" href="/../css/main.css">
    <script type="importmap">
      {
        "imports": {
          "ehtml/E/e-for-each-template": "/js/ehtml/E/e-for-each-template.js",
          "ehtml/E/e-form-dynamic-value": "/js/ehtml/E/e-form-dynamic-value.js",
          "ehtml/E/e-form": "/js/ehtml/E/e-form.js",
          "ehtml/E/e-github-oauth-button": "/js/ehtml/E/e-github-oauth-button.js",
          "ehtml/E/e-html": "/js/ehtml/E/e-html.js",
          "ehtml/E/e-if-template": "/js/ehtml/E/e-if-template.js",
          "ehtml/E/e-json-template": "/js/ehtml/E/e-json-template.js",
          "ehtml/E/e-json-view": "/js/ehtml/E/e-json-view.js",
          "ehtml/E/e-json": "/js/ehtml/E/e-json.js",
          "ehtml/E/e-local-storage-value": "/js/ehtml/E/e-local-storage-value.js",
          "ehtml/E/e-markdown": "/js/ehtml/E/e-markdown.js",
          "ehtml/E/e-page-with-url-template": "/js/ehtml/E/e-page-with-url-template.js",
          "ehtml/E/e-reusable-template": "/js/ehtml/E/e-reusable-template.js",
          "ehtml/E/e-select": "/js/ehtml/E/e-select.js",
          "ehtml/E/e-session-storage-value": "/js/ehtml/E/e-session-storage-value.js",
          "ehtml/E/e-session-value": "/js/ehtml/E/e-session-value.js",
          "ehtml/E/e-svg": "/js/ehtml/E/e-svg.js",
          "ehtml/E/e-wrapper-template": "/js/ehtml/E/e-wrapper-template.js",
          "ehtml/E/e-ws-template": "/js/ehtml/E/e-ws-template.js",
          "ehtml/E/exports": "/js/ehtml/E/exports.js",

          "ehtml/actions/addHTMLInto": "/js/ehtml/actions/addHTMLInto.js",
          "ehtml/actions/addTextInto": "/js/ehtml/actions/addTextInto.js",
          "ehtml/actions/changeValueOf": "/js/ehtml/actions/changeValueOf.js",
          "ehtml/actions/disableElms": "/js/ehtml/actions/disableElms.js",
          "ehtml/actions/enableElms": "/js/ehtml/actions/enableElms.js",
          "ehtml/actions/hideElms": "/js/ehtml/actions/hideElms.js",
          "ehtml/actions/insertHTMLInto": "/js/ehtml/actions/insertHTMLInto.js",
          "ehtml/actions/insertTextInto": "/js/ehtml/actions/insertTextInto.js",
          "ehtml/actions/loadAndAddHTMLInto": "/js/ehtml/actions/loadAndAddHTMLInto.js",
          "ehtml/actions/loadAndAddTextInto": "/js/ehtml/actions/loadAndAddTextInto.js",
          "ehtml/actions/loadHTMLInto": "/js/ehtml/actions/loadHTMLInto.js",
          "ehtml/actions/loadTextInto": "/js/ehtml/actions/loadTextInto.js",
          "ehtml/actions/mapToTemplate": "/js/ehtml/actions/mapToTemplate.js",
          "ehtml/actions/redirect": "/js/ehtml/actions/redirect.js",
          "ehtml/actions/releaseTemplate": "/js/ehtml/actions/releaseTemplate.js",
          "ehtml/actions/reload": "/js/ehtml/actions/reload.js",
          "ehtml/actions/removeElms": "/js/ehtml/actions/removeElms.js",
          "ehtml/actions/scrollIntoViewOf": "/js/ehtml/actions/scrollIntoViewOf.js",
          "ehtml/actions/scrollToHash": "/js/ehtml/actions/scrollToHash.js",
          "ehtml/actions/showElms": "/js/ehtml/actions/showElms.js",
          "ehtml/actions/toggleElms": "/js/ehtml/actions/toggleElms.js",
          "ehtml/actions/updateAttributeOf": "/js/ehtml/actions/updateAttributeOf.js",
          "ehtml/actions/exports": "/js/ehtml/actions/exports.js",

          "ehtml/third-party/katex/auto-render": "/js/ehtml/third-party/katex/auto-render.min.js",
          "ehtml/third-party/katex/katex": "/js/ehtml/third-party/katex/katex.min.js",
          "ehtml/third-party/showdown-katex/showdown-katex": "/js/ehtml/third-party/showdown-katex/showdown-katex.js",
          "ehtml/third-party/showdown-katex/asciimath-to-tex": "/js/ehtml/third-party/showdown-katex/asciimath-to-tex.js",
          "ehtml/third-party/he": "/js/ehtml/third-party/he.js",
          "ehtml/third-party/highlight": "/js/ehtml/third-party/highlight.min.js",
          "ehtml/third-party/json-pretty-html": "/js/ehtml/third-party/json-pretty-html.js",
          "ehtml/third-party/showdown-highlight": "/js/ehtml/third-party/showdown-highlight.js",
          "ehtml/third-party/showdown": "/js/ehtml/third-party/showdown.min.js",

          "ehtml/elm": "/js/ehtml/elm.js",
          "ehtml/elms": "/js/ehtml/elms.js",
          "ehtml/evaluateStringWithActionsOnCloseConnection": "/js/ehtml/evaluateStringWithActionsOnCloseConnection.js",
          "ehtml/evaluateStringWithActionsOnOpenConnection": "/js/ehtml/evaluateStringWithActionsOnOpenConnection.js",
          "ehtml/evaluateStringWithActionsOnProgress": "/js/ehtml/evaluateStringWithActionsOnProgress.js",
          "ehtml/evaluateStringWithActionsOnResponse": "/js/ehtml/evaluateStringWithActionsOnResponse.js",
          "ehtml/evaluatedStringWithParams": "/js/ehtml/evaluatedStringWithParams.js",
          "ehtml/evaluatedStringWithParamsFromState": "/js/ehtml/evaluatedStringWithParamsFromState.js",
          "ehtml/isTemplate": "/js/ehtml/isTemplate.js",
          "ehtml/isTemplateWithType": "/js/ehtml/isTemplateWithType.js",
          "ehtml/isTemplateWithTypeExclusively": "/js/ehtml/isTemplateWithTypeExclusively.js",
          "ehtml/nodeIsNotForEHTML": "/js/ehtml/nodeIsNotForEHTML.js",
          "ehtml/nodeName": "/js/ehtml/nodeName.js",
          "ehtml/observeNodeAttributes": "/js/ehtml/observeNodeAttributes.js",
          "ehtml/observeNodeWithItsChildNodes": "/js/ehtml/observeNodeWithItsChildNodes.js",
          "ehtml/registerShowdownExtension": "/js/ehtml/registerShowdownExtension.js",
          "ehtml/releaseTemplateWithItsContent": "/js/ehtml/releaseTemplateWithItsContent.js",
          "ehtml/responseFromAjaxRequest": "/js/ehtml/responseFromAjaxRequest.js",
          "ehtml/turnEhtmlMutationObserverOff": "/js/ehtml/turnEhtmlMutationObserverOff.js",
          "ehtml/turnEhtmlMutationObserverOn": "/js/ehtml/turnEhtmlMutationObserverOn.js",
          "ehtml/unwrappedChildrenOfParent": "/js/ehtml/unwrappedChildrenOfParent.js",

          "ehtml/main": "/js/ehtml/main.js"
        }
      }
    </script>
    <script type="module">import "ehtml/main"</script>
  </head>

  <body class="main">
    <div class="base">
      <div class="profile-box">
        <button 
          id="#button" 
          onclick="
            releaseTemplate('#template-1')
            releaseTemplate('#template-2')
            // hideElms('button')
          " 
        >Load John And Amanda In 2 separate boxes</button>
        <img class="ajax-icon" id="ajax-icon" src="/../images/ajax-icon.svg" style="display: none;" />

        <div id="box-1" style="min-height: 100px;"></div>
        <hr>
        <div id="box-2"></div>

        <template id="template-1" is="e-reusable" data-insert-into="#box-1" >
          <template
            is="e-json"
            data-src="/../profile?name=Amanda"
            data-ajax-icon="#ajax-icon"
            data-object-name="profileResponse1"
          >
            <img class="photo" src="${profileResponse1.body.photo}"/>
            <div class="user-info">
              <div class="name" data-text="${profileResponse1.body.name}"></div>
              <div class="email" data-text="${profileResponse1.body.email}"></div>
              <div class="other-details">
                <div data-text="Age: ${profileResponse1.body.age}"></div>
                <div data-text="Country: ${profileResponse1.body.country}"></div>
                <div data-text="Profession: ${profileResponse1.body.profession}"></div>
              </div>
            </div>

            <div id="box-1-2"></div>
            <button 
              id="#button" 
              onclick="
                releaseTemplate('#template-1-2')
                // hideElms('button')
              " 
            >Load John After Amanda In First Box</button>
            <template is="e-reusable" id="template-1-2" data-insert-into="#box-1-2">
              <template
                is="e-json"
                data-src="/../profile?name=John"
                data-ajax-icon="#ajax-icon"
                data-object-name="profileResponse2"
              >
                <img class="photo" src="${profileResponse2.body.photo}"/>
                <div class="user-info">
                  <div class="name" data-text="${profileResponse2.body.name}"></div>
                  <div class="name" data-text="loaded after ${profileResponse1.body.name}"></div>
                  <div class="email" data-text="${profileResponse2.body.email}"></div>
                  <div class="other-details">
                    <div data-text="Age: ${profileResponse2.body.age}"></div>
                    <div data-text="Country: ${profileResponse2.body.country}"></div>
                    <div data-text="Profession: ${profileResponse2.body.profession}"></div>
                  </div>
                </div>

                <div id="box-1-3"></div>
                <button 
                  id="#button" 
                  onclick="
                    releaseTemplate('#template-1-3')
                    // hideElms('button')
                  " 
                >Load Amanda After John And After Amanda In First Box</button>
                <template is="e-reusable" id="template-1-3" data-insert-into="#box-1-3">
                  <template
                    is="e-json"
                    data-src="/../profile?name=Amanda"
                    data-ajax-icon="#ajax-icon"
                    data-object-name="profileResponse3"
                  >
                    <img class="photo" src="${profileResponse3.body.photo}"/>
                    <div class="user-info">
                      <div class="name" data-text="${profileResponse3.body.name}"></div>
                      <div class="name" data-text="loaded after ${profileResponse2.body.name}, and after ${profileResponse1.body.name}"></div>
                      <div class="email" data-text="${profileResponse3.body.email}"></div>
                      <div class="other-details">
                        <div data-text="Age: ${profileResponse3.body.age}"></div>
                        <div data-text="Country: ${profileResponse3.body.country}"></div>
                        <div data-text="Profession: ${profileResponse3.body.profession}"></div>
                      </div>
                    </div>
                  </template>
                </template>
              </template>
            </template>
          </template>
        </template>

        <template id="template-2" is="e-reusable" data-insert-into="#box-2" >
          <template
            is="e-json"
            data-src="/../profile?name=John"
            data-ajax-icon="#ajax-icon"
            data-object-name="profileResponse1"
          >
            <img class="photo" src="${profileResponse1.body.photo}"/>
            <div class="user-info">
              <div class="name" data-text="${profileResponse1.body.name}"></div>
              <div class="email" data-text="${profileResponse1.body.email}"></div>
              <div class="other-details">
                <div data-text="Age: ${profileResponse1.body.age}"></div>
                <div data-text="Country: ${profileResponse1.body.country}"></div>
                <div data-text="Profession: ${profileResponse1.body.profession}"></div>
              </div>
            </div>

            <div id="box-2-2"></div>
            <button 
              id="#button" 
              onclick="
                releaseTemplate('#template-2-2')
                // hideElms('button')
              " 
            >Load Amand After John In Second Box</button>
            <template is="e-reusable" id="template-2-2" data-insert-into="#box-2-2">
              <template
                is="e-json"
                data-src="/../profile?name=Amanda"
                data-ajax-icon="#ajax-icon"
                data-object-name="profileResponse2"
              >
                <img class="photo" src="${profileResponse2.body.photo}"/>
                <div class="user-info">
                  <div class="name" data-text="${profileResponse2.body.name}"></div>
                  <div class="name" data-text="loaded after ${profileResponse1.body.name}"></div>
                  <div class="email" data-text="${profileResponse2.body.email}"></div>
                  <div class="other-details">
                    <div data-text="Age: ${profileResponse2.body.age}"></div>
                    <div data-text="Country: ${profileResponse2.body.country}"></div>
                    <div data-text="Profession: ${profileResponse2.body.profession}"></div>
                  </div>
                </div>

                <div id="box-2-3"></div>
                <button 
                  id="#button" 
                  onclick="
                    releaseTemplate('#template-2-3')
                    // hideElms('button')
                  " 
                >Load John After Amanda And After John In Second Box</button>
                <template is="e-reusable" id="template-2-3" data-insert-into="#box-2-3">
                  <template
                    is="e-json"
                    data-src="/../profile?name=John"
                    data-ajax-icon="#ajax-icon"
                    data-object-name="profileResponse3"
                  >
                    <img class="photo" src="${profileResponse3.body.photo}"/>
                    <div class="user-info">
                      <div class="name" data-text="${profileResponse3.body.name}"></div>
                      <div class="name" data-text="loaded after ${profileResponse2.body.name}, and after ${profileResponse1.body.name}"></div>
                      <div class="email" data-text="${profileResponse3.body.email}"></div>
                      <div class="other-details">
                        <div data-text="Age: ${profileResponse3.body.age}"></div>
                        <div data-text="Country: ${profileResponse3.body.country}"></div>
                        <div data-text="Profession: ${profileResponse3.body.profession}"></div>
                      </div>
                    </div>
                  </template>
                </template>
              </template>
            </template>
          </template>
        </template>
      </div>
    </div> 
  </body>

</html>
