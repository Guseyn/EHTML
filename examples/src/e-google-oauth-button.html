<!DOCTYPE html>
<!-- http://localhost:8000/e-google-oauth-button.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

  <head>
    <title>e-google-oauth-button</title>
    <link rel="shortcut icon" href="/../images/favicon.ico"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/../css/normalize.css">
    <link rel="stylesheet" href="/../css/main.css">
    <style>
      .customSignIn {
          margin: 10px auto;
          background: white;
          color: #444;
          width: 200px;
          border-radius: 5px;
          border: thin solid #888;
          box-shadow: 1px 1px 1px grey;
          white-space: nowrap;
          display: block;
      }

      .customSignIn:hover {
        cursor: pointer;
      }

      #google-icon {
        background: url('/../images/g-logo.png') transparent 5px 50% no-repeat;
      }

      span.icon {
        display: inline-block;
        vertical-align: middle;
        width: 48px;
        height: 48px;
      }

      span.buttonText {
        display: inline-block;
        vertical-align: middle;
        font-size: 14px;
        font-weight: bold;
        margin-left: 5px;
        font-family: 'Roboto', sans-serif;
      }
    </style>
    <script src="/../js/ehtml.bundle.min.js" type="text/javascript"></script>
  </head>

  <body class="main">
    <div class="base">
      
      <template is="e-if" data-condition-to-display="${localStorage.getItem('jwt') != null}">
        <div class="response-box">
          <div class="response-info">
            <b>Welcome!</b>
          </div>
        </div>
      </template>

      <template is="e-if" data-condition-to-display="${localStorage.getItem('jwt') == null}">
        <div class="login-form">
          <input id="email" type="text" name="email" placeholder="My email" class="login-input">
          <input id="password" type="password" name="password" placeholder="My password" class="login-input">
          <div id="error" class="error"></div>
          <input id="go-button" type="button" value="Sign in" class="login-input">
          <div class="mode">
            <span id="sign-up" class="as-link">Sign up</span>
            /
            <span id="sign-in" class="as-link">Sign in</span>
          </div>
        </div>

        <div style="text-align: center; font-family: sans-serif;">or</div>

        <e-google-oauth-button
          class="customSignIn"
          data-client-id="8310979471-lvmkisk1b33fjd25pjjqe8v8fa72rq2q.apps.googleusercontent.com"
          data-redirect-url="/../google"
          data-cookiepolicy="single_host_origin"
          data-scope="profile"
          data-request-token-key="googleToken"
          data-response-name="responseWithToken"
          data-actions-on-response="
            localStorage.setItem('jwt', responseWithToken.body.jwt)
            reload()
          "
        >
          <span id="google-icon" class="icon"></span>
          <span class="buttonText">Sign in with Google</span>
        </e-google-oauth-button>
      </template>
    </div>
  </body>

</html>
