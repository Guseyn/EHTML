<!DOCTYPE html>
<!-- http://localhost:8000/e-form.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

  <head>
    <link rel="shortcut icon" href="/../images/favicon.ico"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>e-form</title>
    <style type="text/css">
      legend {
        background-color: #000;
        color: #fff;
        padding: 3px 6px;
      }

      .output {
        font: 1em 'Fira Sans', sans-serif;
      }

      input, fieldset {
        margin-top: 1em;
      }

      e-form {
        display: block;
      }
    </style>
    <script src="/../js/ehtml.bundle.min.js" type="text/javascript"></script>
  </head>

  <!-- TODO:// add validation attributes -->

  <body class="main">
    <form is="e-form" id="form">
      <input
        type="checkbox"
        name="selected"
        value="first"
        required
        data-validation-at-least-number="1">
      <br/>
      <input
        type="checkbox"
        name="selected"
        value="second"
        required
        data-validation-at-least-number="1">
      <br/>
      <input
        type="checkbox"
        name="selected"
        value="third"
        data-validation-at-least-number="1"
        required>
      <br/>
      <input type="color" name="colorhash" required><br/>
      <input type="date" name="date" required><br/>
      <input type="datetime-local" name="dateTimeLocal" required><br/>
      <input type="email" name="email" required><br/>
      <input type="file" name="files1" data-read-progress-bar="#readProgressBar1" multiple required><br/>
      <progress id="readProgressBar1"></progress><br/>
      <input type="file" name="files2" data-read-progress-bar="#readProgressBar2" multiple required><br/>
      <progress id="readProgressBar2"></progress><br/>
      <input type="hidden" name="hidden"><br/>
      <input type="month" name="month" required><br/>
      <input type="number" name="number" required><br/>
      <input type="password" name="password" required><br/>
      <fieldset name="number">
        <legend>Choose your number</legend>

        <input type="radio" id="one" name="number" value="one" required>
        <label for="one">One</label><br/>

        <input type="radio" id="two" name="number" value="two" required>
        <label for="two">Two</label><br/>

        <input type="radio" id="three" name="number" value="three" required>
        <label for="three">Three</label>
      </fieldset>
      <input type="range" name="range" required><br/>
      <input type="search" name="search" required><br/>
      <input type="tel" name="tel" required><br/>
      <input type="text" name="text" required><br/>
      <input type="time" name="time" required><br/>
      <input type="url" name="url" required><br/>
      <input type="week" name="week" required><br/><br/>

      <label for="color-select">Choose a color:</label>
      <select id="color-select" name="color" required>
        <option value="red" name="color">Red</option>
        <option value="green" name="color">Green</option>
        <option value="blue" name="color">Blue</option>
      </select><br/><br/>

      <textarea id="text" name="bigText" rows="5" cols="33" required>Big text...</textarea><br/>

      <e-local-storage-value name="localValue" data-key="localValue"></e-local-storage-value>
      <e-session-storage-value name="sessionValue" data-key="sessionValue"></e-session-storage-value>

      <input
        type="submit"
        name="main"
        value="Send request"
        id="send"
        data-request-url="https://guseyn.com/echo"
        data-request-method="POST"
        data-request-headers="{}"
        data-upload-progress-bar="#uploadProgressBar"
        data-progress-bar="#progressBar"
        data-ajax-icon="#ajaxIcon"
        data-response-object-name="saved"
        data-response-headers-name="savedHeaders"
        data-response-status-code-name="savedStatusCode"
        onclick="this.form.submit(this)"
        data-actions-on-response="
          logToConsole('object: ', '${saved}');
          logToConsole('headers: ', '${savedHeaders}');
          logToConsole('status code: ', '${savedStatusCode}');
          if ('${savedStatusCode === 200}') logToConsole('status code is 200');
          if ('${savedStatusCode === 400}') logToConsole('status code is 400');
          saveToSessionStorage('saved', '${saved}');
          hideElms('#form');
          innerHTML('#result', '/../html/form-result.html');
          mapObjToElm('${saved}', '#form-result');
          addHTMLTo('#result-with-only-files', '/../html/form-result-only-files.html');
          mapObjToElm('${saved}', '#form-result-only-files');
          showElms('#result', '#result-with-only-files');
          disableElms('#send');
        "
      />

      <img id="ajaxIcon" src="/../images/ajax-loader.gif"/>
      <br/>
      <progress id="uploadProgressBar"></progress>
      <br/>
      <progress id="progressBar"></progress>
      <br/>
    </form>
    <div id="result" style="display: none;"></div>
    <div id="result-with-only-files" style="display: none;">
      <hr/>
      Only Files:
    </div>
  </body>

</html>
